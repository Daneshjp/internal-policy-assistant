# ========================================
# InspectionAgent Environment Configuration
# ========================================
# Copy this file to .env and update with your actual values
# IMPORTANT: Never commit .env to version control

# ========================================
# Database Configuration
# ========================================
DATABASE_URL=postgresql://inspection_user:SecurePassword123@postgres:5432/inspection_agent
POSTGRES_USER=inspection_user
POSTGRES_PASSWORD=SecurePassword123
POSTGRES_DB=inspection_agent

# ========================================
# Authentication & Security
# ========================================
# Generate a secure random key: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-256-bit-secret-key-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Password hashing (bcrypt rounds)
BCRYPT_ROUNDS=12

# ========================================
# Google OAuth 2.0
# ========================================
# Get credentials from: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret
GOOGLE_REDIRECT_URI=http://localhost:8000/api/v1/auth/google/callback

# ========================================
# Redis Configuration
# ========================================
REDIS_URL=redis://redis:6379/0
REDIS_PASSWORD=

# ========================================
# Celery Configuration
# ========================================
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# Task settings
CELERY_TASK_ALWAYS_EAGER=false
CELERY_TASK_SOFT_TIME_LIMIT=300
CELERY_TASK_TIME_LIMIT=600

# ========================================
# Object Storage (MinIO/S3)
# ========================================
S3_ENDPOINT=http://minio:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET=inspection-agent
S3_REGION=us-east-1
S3_USE_SSL=false

# AWS S3 (Production)
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_ACCESS_KEY=your-aws-access-key
# S3_SECRET_KEY=your-aws-secret-key
# S3_BUCKET=inspectionagent-production
# S3_REGION=us-east-1
# S3_USE_SSL=true

# ========================================
# Email Configuration
# ========================================
# SendGrid
EMAIL_HOST=smtp.sendgrid.net
EMAIL_PORT=587
EMAIL_USER=apikey
EMAIL_PASSWORD=your-sendgrid-api-key
EMAIL_FROM=noreply@inspectionagent.adnoc.ae
EMAIL_FROM_NAME=InspectionAgent

# AWS SES (Alternative)
# EMAIL_HOST=email-smtp.us-east-1.amazonaws.com
# EMAIL_PORT=587
# EMAIL_USER=your-ses-smtp-username
# EMAIL_PASSWORD=your-ses-smtp-password

# Development (use MailHog)
# EMAIL_HOST=mailhog
# EMAIL_PORT=1025
# EMAIL_USER=
# EMAIL_PASSWORD=

# ========================================
# Application Configuration
# ========================================
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# API Configuration
API_V1_PREFIX=/api/v1
PROJECT_NAME=InspectionAgent
VERSION=1.0.0

# CORS
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost:8080

# Rate limiting
RATE_LIMIT_PER_MINUTE=100

# Pagination
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# ========================================
# Cache Configuration
# ========================================
CACHE_TTL=300
DASHBOARD_CACHE_TTL=300

# ========================================
# File Upload Configuration
# ========================================
MAX_UPLOAD_SIZE=10485760
ALLOWED_PHOTO_EXTENSIONS=jpg,jpeg,png,heic
ALLOWED_DOCUMENT_EXTENSIONS=pdf,doc,docx,xls,xlsx

# ========================================
# Escalation Rules
# ========================================
INSPECTION_OVERDUE_WARNING_DAYS=3
INSPECTION_OVERDUE_CRITICAL_DAYS=7
APPROVAL_STUCK_HOURS=48
ESCALATION_EMAIL_ENABLED=true

# ========================================
# RBI Configuration
# ========================================
RBI_COMPLIANCE_THRESHOLD=80
RBI_AUTO_LOCK_ON_PASS=true

# ========================================
# SAP Integration (Mock for Demo)
# ========================================
SAP_ENABLED=false
SAP_API_URL=https://sap.adnoc.ae/api
SAP_API_KEY=your-sap-api-key
SAP_TIMEOUT=30

# ========================================
# Frontend Configuration
# ========================================
VITE_API_URL=http://localhost:8000
VITE_GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
VITE_APP_NAME=InspectionAgent
VITE_ENVIRONMENT=development

# Feature flags
VITE_ENABLE_GOOGLE_OAUTH=true
VITE_ENABLE_RBI_MODULE=true
VITE_ENABLE_SAP_INTEGRATION=false

# ========================================
# Monitoring & Logging
# ========================================
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# ========================================
# Database Connection Pool
# ========================================
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# ========================================
# Session Configuration
# ========================================
SESSION_TIMEOUT_MINUTES=480
SESSION_ABSOLUTE_TIMEOUT_DAYS=7

# ========================================
# Testing Configuration
# ========================================
TEST_DATABASE_URL=postgresql://inspection_user:SecurePassword123@postgres:5432/inspection_agent_test
TEST_REDIS_URL=redis://redis:6379/15
